# Задание 1

Вы написали view-функцию, обрабатывающую URL `/new_post/`, которая на **GET** запрос отвечает страницей с формой, а на **POST** - создает новый пост из данных формы и редиректит на главную страницу.  
Опишите юнит-тесты, которые вы бы написали для этой view-функции.  

В этом задании код писать не нужно, опишите что по вашему мнению тут нужно/можно протестировать, и почему это нужно сделать именно так, как вы предлагаете.


# Решение 1

Я бы написал три теста

## Первый тест метода get
### Сначала через клиента я бы загрузил эту страницу

Потом бы начал проверять статус коды. 
Если 404 - то скорее всего проблема с роутами. 
Если редирект, то загрузил бы страницу без слеша на конце.

### Потом бы я начал проверять форму на странице

Сначала бы проверил, что возвращается тэг формы. 
Потом, что у формы установлен метод post. 
Потом проверил бы количество элементов в форме. 

### Потом бы начал проверять каждый элемент формы

Сначала, что такой элемент есть. 
Потом, что элемент правильного типа. 
Затем, что все параметры поля указаны верно, например, описание, required и вписанный пример. 


## Второй тест метода post с невалидными входными параметрами

### Сначала через клиента я бы загрузил эту страницу

Потом бы начал проверять статус коды. 
Если редирект, то загрузил бы страницу без слеша на конце. 
Исходя из редиректа определил бы правильный адрес, на который надо слать post запрос. 

### Затем бы сделал пост запрос с невалидными параметрами, чтобы проверить, что хэндлер правильно это отработает

Потом проверил бы статус код, что он не 500. 
Потом проверил бы, что статус код 400, 422 или может быть 200 (смотря что пытается сделать хэндлер)
Если бы был доступ к БД, то до post запроса и после бы загрузил данные из БД и проверил бы, что количество записей не изменилось. 


## Третий тест метода post с валидными параметрами

### Сначала через клиента я бы загрузил эту страницу

Потом бы начал проверять статус коды. 
Если редирект, то загрузил бы страницу без слеша на конце. 
Исходя из редиректа определил бы правильный адрес, на который надо слать post запрос. 

### Затем бы сделал пост запрос с валидными параметрами

Проверил бы статус код, что хэндлер редиректит. 

### Если бы был доступ к БД, то до post запроса и после бы загрузил данные из БД и проверил бы, что количество записей изменилось

потом, что новая запись появилась и соответствует требованиям. 
Может быть проверил бы остальные записи, что хэндлер их никак не поменял. 
